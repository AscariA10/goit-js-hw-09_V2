{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,SAE9BC,GADeF,SAASC,cAAc,mBACpBD,SAASC,cAAc,mBACzCE,EAAYH,SAASC,cAAc,iBACnCG,EAAmBJ,SAASC,cAAc,mBA8BhD,SAASI,EAAcC,EAAUC,GAC9B,IAAMC,EAAgBC,KAAKC,SAAW,GAUtC,OATwB,IAAIC,SAAQ,SAACC,EAASC,GAC3CC,YAAW,WACJN,EACDI,EAAQ,CAAEN,WAAUC,UAEpBM,EAAK,CAAEP,WAAUC,S,GAEpBA,E,IArCTR,EAAKgB,iBAAiB,UAAU,SAAAC,GAC7BA,EAAMC,iBAIT,SAAiBC,GACFC,OAAOjB,EAAgBkB,OACnC,IADA,IACSC,EAAI,EAAGA,EAAIjB,EAAiBgB,MAAOC,GAAK,EAC9ChB,EAAcgB,EAAYF,OAAOhB,EAAUiB,OAASC,GAChDC,MAAK,SAAAC,G,IAAGjB,EAAQiB,EAARjB,SAAUC,EAAKgB,EAALhB,MAChBiB,QAAQC,IACL,uBAAwCC,OAAfpB,EAAS,QAAwCoB,OAAlCP,OAAOZ,GAASY,OAAOD,GAAW,OAE7ES,EAAA9B,GAAS+B,OAAOhB,QACb,uBAAwCc,OAAfpB,EAAS,QAAwCoB,OAAlCP,OAAOZ,GAASY,OAAOD,GAAW,M,IAG/EW,OAAM,SAAAN,G,IAAGjB,EAAQiB,EAARjB,SAAUC,EAAKgB,EAALhB,MACjBiB,QAAQC,IACL,sBAAuCC,OAAfpB,EAAS,QAAwCoB,OAAlCP,OAAOZ,GAASY,OAAOD,GAAW,OAE5ES,EAAA9B,GAAS+B,OAAOE,QACb,sBAAqCJ,OAAfpB,EAAS,QAAwCoB,OAAlCP,OAAOZ,GAASY,OAAOD,GAAW,M,IApBnFa,CAAQ7B,EAAgBkB,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\nconst submitButton = document.querySelector('[type=\"submit\"]');\nconst firstDelayValue = document.querySelector('[name=\"delay\"]');\nconst delayStep = document.querySelector('[name=\"step\"]');\nconst amountOfPromises = document.querySelector('[name=\"amount\"]');\n\nform.addEventListener('submit', event => {\n   event.preventDefault();\n   onClick(firstDelayValue.value);\n});\n\nfunction onClick(userDelay) {\n   let delay = Number(firstDelayValue.value);\n   for (let i = 0; i < amountOfPromises.value; i += 1) {\n      createPromise(i, (delay = Number(delayStep.value) * i))\n         .then(({ position, delay }) => {\n            console.log(\n               `✅ Fulfilled promise ${position} in ${Number(delay) + Number(userDelay)}ms`\n            );\n            Notiflix.Notify.success(\n               `✅ Fulfilled promise ${position} in ${Number(delay) + Number(userDelay)}ms`\n            );\n         })\n         .catch(({ position, delay }) => {\n            console.log(\n               `❌ Rejected promise ${position} in ${Number(delay) + Number(userDelay)}ms`\n            );\n            Notiflix.Notify.failure(\n               `❌ Rejected promise ${position} in ${Number(delay) + Number(userDelay)}ms`\n            );\n         });\n   }\n}\n\nfunction createPromise(position, delay) {\n   const shouldResolve = Math.random() > 0.3;\n   const generatePromise = new Promise((success, fail) => {\n      setTimeout(() => {\n         if (shouldResolve) {\n            success({ position, delay });\n         } else {\n            fail({ position, delay });\n         }\n      }, delay);\n   });\n   return generatePromise;\n}\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$form","document","querySelector","$ce04d3a99e08e73b$var$firstDelayValue","$ce04d3a99e08e73b$var$delayStep","$ce04d3a99e08e73b$var$amountOfPromises","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","success","fail","setTimeout","addEventListener","event","preventDefault","userDelay","Number","value","i","then","param","console","log","concat","$parcel$interopDefault","Notify","catch","failure","$ce04d3a99e08e73b$var$onClick"],"version":3,"file":"03-promises.7fdb3acd.js.map"}